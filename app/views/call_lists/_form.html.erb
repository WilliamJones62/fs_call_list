<%= form_with(model: call_list, local: true) do |form| %>
  <% if call_list.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(call_list.errors.count, "error") %> prohibited this call_list from being saved:</h2>

      <ul>
      <% call_list.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <fieldset>
    <legend><strong>Customer</strong></legend>
    <p>
      <table>
        <thead>
          <tr>
            <th> <%= form.label :custcode, "Code" %> </th>
            <th> <%= form.label :custname, "Name" %> </th>
            <th> <%= form.label :contact, "Contact" %> </th>
            <th> <%= form.label :phone, "Phone" %> </th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td> <%= form.text_field :custcode, size: 10, id: :call_list_custcode %> </td>
            <td> <%= form.text_field :custname, size: 20, id: :call_list_custname %> </td>
            <td> <%= form.text_field :contact, size: 25, id: :call_list_contact %> </td>
            <td> <%= form.telephone_field :phone, size: 25, id: :call_list_phone %> </td>
          </tr>
        </tbody>
      </table>
      <table>
        <thead>
          <tr>
            <th> <%= form.label :main_phone, "Main phone" %> </th>
            <th> <%= form.label :email, "Email" %> </th>
            <th> <%= form.label :website, "Website" %> </th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td> <%= form.telephone_field :main_phone, size: 20, id: :call_list_main_phone %> </td>
            <td> <%= form.text_field :email, size: 25, id: :call_list_email %> </td>
            <td> <%= form.text_field :website, size: 35, id: :call_list_website %> </td>
          </tr>
        </tbody>
      </table>
      <table>
        <thead>
          <tr>
            <th> <%= form.label :selling, "Selling" %> </th>
            <th> <%= form.label :notes, "Notes" %> </th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td> <%= form.text_field :selling, size: 50, id: :call_list_selling %> </td>
            <td> <%= form.text_area :notes, size: "50x2", id: :call_list_notes %> </td>
          </tr>
        </tbody>
      </table>
    </p>
  </fieldset>

  <fieldset>
    <legend><strong>Communication</strong></legend>
    <p>
    <table>
      <thead>
        <tr>
          <% if @call_list.rep %>
            <th> <%= form.label :rep, "Rep" %> </th>
          <% end %>
          <th> <%= form.label :callday, "Call day" %> </th>
          <th> <%= form.label :window, "Call window" %> </th>
          <th> <%= form.label :isr, "ISR" %> </th>
          <th> <%= form.label :contact_method, "Contact method" %> </th>
          <th> <%= form.label :called, "Contacted?" %> </th>
          <th> <%= form.label :ordered, "Ordered?" %> </th>
          <th> <%= form.label :callback, "Call back day" %> </th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <% if @call_list.rep %>
            <td> <%= form.text_field :rep, size: 5, id: :call_list_rep %> </td>
          <% end %>
          <td> <%= form.select :callday, @callday, {}, {:value => params[:callday], :id => "callday"} %> </td>
          <td> <%= form.select :window, @windows, {}, {:value => params[:window], :id => "window"} %> </td>
          <td> <%= form.text_field :isr, size: 7, id: :call_list_isr %> </td>
          <td> <%= form.select :contact_method, @contact_method, {}, {:value => params[:contact_method], :id => "contact_method"} %> </td>
          <td> <%= form.select :called, @called, {}, {:value => params[:called], :id => "called"} %> </td>
          <td> <%= form.select :ordered, @ordered, {}, {:value => params[:ordered], :id => "ordered"} %> </td>
          <td> <%= form.select :callback, @callback, {}, {:value => params[:callback], :id => "callback"} %> </td>
        </tr>
      </tbody>
    </table>
    </p>
  </fieldset>

  <div class="actions">
    <%= form.submit %>
  </div>
<% end %>
